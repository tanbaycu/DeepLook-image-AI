<!DOCTYPE html>
<html lang="vi" class="h-full bg-gray-50">

<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>
        DeepLook - Ph√¢n t√≠ch H√¨nh ·∫£nh Chuy√™n s√¢u AI | C√¥ng c·ª• AI T·ªët nh·∫•t
    </title>
    <meta name="description"
        content="DeepLook - C√¥ng c·ª• ph√¢n t√≠ch h√¨nh ·∫£nh AI ti√™n ti·∫øn v·ªõi kh·∫£ nƒÉng nh·∫≠n di·ªán ƒë·ªëi t∆∞·ª£ng, ph√¢n t√≠ch c·∫£m x√∫c v√† nhi·ªÅu t√≠nh nƒÉng chuy√™n s√¢u kh√°c. T·ªëi ∆∞u cho tr·∫£i nghi·ªám ng∆∞·ªùi d√πng." />
    <meta name="keywords"
        content="ph√¢n t√≠ch h√¨nh ·∫£nh, AI, tr√≠ tu·ªá nh√¢n t·∫°o, nh·∫≠n di·ªán ƒë·ªëi t∆∞·ª£ng, ph√¢n t√≠ch c·∫£m x√∫c, DeepLook" />
    <meta name="author" content="DeepLook" />
    <link rel="canonical" href="https://deeplook-image-ai.vercel.app" />

    <!-- Open Graph / Facebook -->
    <meta property="og:type" content="website" />
    <meta property="og:url" content="https://deeplook-image-ai.vercel.app" />
    <meta property="og:title" content="DeepLook - Ph√¢n t√≠ch H√¨nh ·∫£nh Chuy√™n s√¢u AI" />
    <meta property="og:description"
        content="C√¥ng c·ª• ph√¢n t√≠ch h√¨nh ·∫£nh AI ti√™n ti·∫øn v·ªõi kh·∫£ nƒÉng nh·∫≠n di·ªán ƒë·ªëi t∆∞·ª£ng, ph√¢n t√≠ch c·∫£m x√∫c v√† nhi·ªÅu t√≠nh nƒÉng chuy√™n s√¢u kh√°c." />
    <meta property="og:image" content="https://i.postimg.cc/jdBhxKtM/Thi-t-k-ch-a-c-t-n-7.png" />

    <!-- Twitter -->
    <meta property="twitter:card" content="summary_large_image" />
    <meta property="twitter:url" content="https://deeplook-image-ai.vercel.app" />
    <meta property="twitter:title" content="DeepLook - Ph√¢n t√≠ch H√¨nh ·∫£nh Chuy√™n s√¢u AI" />
    <meta property="twitter:description"
        content="C√¥ng c·ª• ph√¢n t√≠ch h√¨nh ·∫£nh AI ti√™n ti·∫øn v·ªõi kh·∫£ nƒÉng nh·∫≠n di·ªán ƒë·ªëi t∆∞·ª£ng, ph√¢n t√≠ch c·∫£m x√∫c v√† nhi·ªÅu t√≠nh nƒÉng chuy√™n s√¢u kh√°c." />
    <meta property="twitter:image" content="https://i.postimg.cc/jdBhxKtM/Thi-t-k-ch-a-c-t-n-7.png" />

    <!-- Favicon -->
    <link rel="icon" type="image/png" href="https://i.postimg.cc/jdBhxKtM/Thi-t-k-ch-a-c-t-n-7.png" />
    <link rel="apple-touch-icon" href="https://i.postimg.cc/jdBhxKtM/Thi-t-k-ch-a-c-t-n-7.png" />

    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://unpkg.com/lucide@latest"></script>
    <script src="https://cdn.jsdelivr.net/npm/marked/marked.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap"
        rel="stylesheet" />
    <script>
        tailwind.config = {
            darkMode: "class",
            theme: {
                extend: {
                    fontFamily: {
                        sans: ["Inter", "sans-serif"]
                    },
                    colors: {
                        primary: {
                            DEFAULT: "#3B82F6",
                            foreground: "#FFFFFF"
                        },
                        secondary: {
                            DEFAULT: "#1E293B",
                            foreground: "#FFFFFF"
                        }
                    }
                }
            }
        };
    </script>
    <style>
        :root {
            --transition-speed: 0.3s;
        }

        .animate-fade-in {
            animation: fadeIn var(--transition-speed) ease-in-out;
        }

        @keyframes fadeIn {
            from {
                opacity: 0;
                transform: translateY(20px);
            }

            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        .loading-wave {
            width: 5px;
            height: 60px;
            background: linear-gradient(45deg, #3b82f6, #60a5fa);
            margin: 10px;
            animation: wave 1s linear infinite;
            border-radius: 20px;
        }

        .loading-wave:nth-child(2) {
            animation-delay: 0.1s;
        }

        .loading-wave:nth-child(3) {
            animation-delay: 0.2s;
        }

        .loading-wave:nth-child(4) {
            animation-delay: 0.3s;
        }

        .loading-wave:nth-child(5) {
            animation-delay: 0.4s;
        }

        @keyframes wave {
            0% {
                transform: scale(0);
            }

            50% {
                transform: scale(1);
            }

            100% {
                transform: scale(0);
            }
        }

        .custom-scrollbar::-webkit-scrollbar {
            width: 4px;
        }

        .custom-scrollbar::-webkit-scrollbar-track {
            background: #f1f1f1;
        }

        .custom-scrollbar::-webkit-scrollbar-thumb {
            background-color: #3b82f6;
            border-radius: 20px;
        }

        .custom-scrollbar::-webkit-scrollbar-thumb:hover {
            background-color: #2563eb;
        }

        .markdown-content h1,
        .markdown-content h2,
        .markdown-content h3,
        .markdown-content h4,
        .markdown-content h5,
        .markdown-content h6 {
            margin-top: 1em;
            margin-bottom: 0.5em;
            font-weight: bold;
        }

        .markdown-content h1 {
            font-size: 1.5em;
        }

        .markdown-content h2 {
            font-size: 1.3em;
        }

        .markdown-content h3 {
            font-size: 1.1em;
        }

        .markdown-content ul,
        .markdown-content ol {
            padding-left: 1.5em;
            margin-bottom: 1em;
        }

        .markdown-content li {
            margin-bottom: 0.5em;
        }

        .markdown-content p {
            margin-bottom: 1em;
        }

        .markdown-content table {
            border-collapse: collapse;
            margin-bottom: 1em;
            width: 100%;
        }

        .markdown-content th,
        .markdown-content td {
            border: 1px solid #ddd;
            padding: 8px;
            font-size: 0.9em;
        }

        .markdown-content th {
            background-color: #f2f2f2;
            font-weight: bold;
        }

        @media (max-width: 640px) {
            .markdown-content table {
                font-size: 0.8em;
            }

            .markdown-content th,
            .markdown-content td {
                padding: 4px;
            }
        }

        .language-selector {
            position: absolute;
            top: 1rem;
            right: 1rem;
            z-index: 10;
        }

        .language-selector select {
            padding: 0.5rem;
            border-radius: 0.375rem;
            border: 1px solid #e2e8f0;
            background-color: white;
            font-size: 0.875rem;
            line-height: 1.25rem;
            color: #4a5568;
        }
    </style>
</head>

<body class="min-h-screen bg-gradient-to-br from-gray-50 to-gray-100 font-sans text-gray-900">
    <div class="language-selector">
        <select id="languageSelect" onchange="changeLanguage()">
            <option value="vi">Ti·∫øng Vi·ªát</option>
            <option value="en">English</option>
        </select>
    </div>

    <div class="container mx-auto px-4 sm:px-6 lg:px-8 py-6 sm:py-8 max-w-7xl">
        <header class="mb-8 sm:mb-12 text-center animate-fade-in">
            <h1 id="mainTitle"
                class="text-3xl sm:text-4xl md:text-5xl lg:text-6xl font-bold bg-clip-text text-transparent bg-gradient-to-r from-primary to-blue-600 mb-2 sm:mb-4">
                Ph√¢n t√≠ch H√¨nh ·∫£nh Chuy√™n s√¢u AI
            </h1>
            <p id="mainSubtitle" class="text-base sm:text-lg md:text-xl lg:text-2xl text-gray-600">
                Kh√°m ph√° chi ti·∫øt ·∫©n sau m·ªói b·ª©c ·∫£nh
            </p>
        </header>

        <main class="grid grid-cols-1 lg:grid-cols-2 gap-6 sm:gap-8">
            <section class="space-y-6 animate-fade-in">
                <div
                    class="bg-white rounded-2xl shadow-lg p-4 sm:p-6 md:p-8 transition-all duration-300 hover:shadow-xl border-t-4 border-primary">
                    <h2 class="text-2xl sm:text-3xl font-bold mb-4 sm:mb-6 text-secondary flex items-center">
                        <i data-lucide="upload-cloud" class="w-6 h-6 sm:w-8 sm:h-8 mr-2 sm:mr-3 text-primary"></i>
                        T·∫£i l√™n v√† Ph√¢n t√≠ch
                    </h2>
                    <div class="space-y-4 sm:space-y-6">
                        <div>
                            <label for="imageUpload"
                                class="block text-base sm:text-lg font-medium mb-2 text-gray-700">T·∫£i l√™n h√¨nh
                                ·∫£nh:</label>
                            <div class="flex items-center justify-center w-full">
                                <label for="imageUpload"
                                    class="flex flex-col items-center justify-center w-full h-48 sm:h-64 border-2 border-primary border-dashed rounded-lg cursor-pointer bg-gray-50 hover:bg-gray-100 transition-colors duration-200">
                                    <div class="flex flex-col items-center justify-center pt-5 pb-6">
                                        <i data-lucide="upload-cloud"
                                            class="w-10 h-10 sm:w-12 sm:h-12 mb-3 sm:mb-4 text-primary"></i>
                                        <p class="mb-2 text-sm sm:text-base text-gray-500">
                                            <span class="font-semibold">Nh·∫•p ƒë·ªÉ t·∫£i l√™n</span> ho·∫∑c
                                            k√©o v√† th·∫£
                                        </p>
                                        <p class="text-xs sm:text-sm text-gray-500">
                                            PNG, JPG ho·∫∑c GIF (T·ªëi ƒëa 10MB)
                                        </p>
                                    </div>
                                    <input id="imageUpload" type="file" class="hidden" accept="image/*" />
                                </label>
                            </div>
                        </div>
                        <div id="imagePreview" class="hidden">
                            <img id="previewImage" src="" alt="Xem tr∆∞·ªõc"
                                class="max-w-full h-auto rounded-lg shadow-md" />
                        </div>
                        <div>
                            <label for="imageUrl" class="block text-base sm:text-lg font-medium mb-2 text-gray-700">Ho·∫∑c
                                nh·∫≠p URL h√¨nh ·∫£nh:</label>
                            <div class="flex flex-col sm:flex-row items-center space-y-2 sm:space-y-0 sm:space-x-2">
                                <div class="relative flex-grow w-full">
                                    <input type="url" id="imageUrl"
                                        class="w-full px-4 py-2 sm:py-3 bg-white border-2 border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary focus:border-transparent transition-shadow duration-200 pr-10"
                                        placeholder="https://example.com/image.jpg" />
                                    <button id="fetchImageUrl"
                                        class="absolute right-2 top-1/2 transform -translate-y-1/2 text-primary hover:text-primary-dark focus:outline-none">
                                        <i data-lucide="search" class="w-5 h-5 sm:w-6 sm:h-6"></i>
                                    </button>
                                </div>
                                <button id="analyzeUrlButton"
                                    class="w-full sm:w-auto px-4 sm:px-6 py-2 sm:py-3 bg-primary text-white rounded-lg hover:bg-blue-600 focus:outline-none focus:ring-2 focus:ring-primary focus:ring-offset-2 transition-colors duration-200 flex items-center justify-center">
                                    <i data-lucide="image" class="w-4 h-4 sm:w-5 sm:h-5 mr-2"></i>
                                    Ph√¢n t√≠ch URL
                                </button>
                            </div>
                        </div>
                        <div>
                            <label for="modelSelect"
                                class="block text-base sm:text-lg font-medium mb-2 text-gray-700">Ch·ªçn m√¥ h√¨nh:</label>
                            <select id="modelSelect"
                                class="w-full px-4 py-2 sm:py-3 bg-white border-2 border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary focus:border-transparent transition-shadow duration-200">
                                <option value="gemini-1.5-pro-002">Gemini 1.5 Pro 002</option>
                                <option value="gemini-1.5-flash-002">
                                    Gemini 1.5 Flash 002
                                </option>
                                <option value="gemini-1.5-flash-8b">
                                    Gemini 1.5 Flash 8B
                                </option>
                                <option value="gemini-1.5-flash-8b-001">
                                    Gemini 1.5 Flash 8B 001
                                </option>
                                <option value="gemini-2.0-flash-exp">
                                    Gemini 2.0 Flash Exp
                                </option>
                            </select>
                        </div>
                        <div>
                            <label for="promptInput"
                                class="block text-base sm:text-lg font-medium mb-2 text-gray-700">Nh·∫≠p prompt m√¥ t·∫£ h√¨nh
                                ·∫£nh:</label>
                            <textarea id="promptInput" rows="4"
                                class="w-full px-4 py-2 sm:py-3 bg-white border-2 border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary focus:border-transparent transition-shadow duration-200"
                                placeholder="M√¥ t·∫£ chi ti·∫øt v·ªÅ h√¨nh ·∫£nh ho·∫∑c ƒë·∫∑t c√¢u h·ªèi c·ª• th·ªÉ..."></textarea>
                        </div>
                        <button id="analyzeButtonSimple"
                            class="w-full sm:w-auto flex items-center justify-center px-6 py-3 bg-primary text-white text-base sm:text-lg font-semibold rounded-lg hover:bg-blue-600 focus:outline-none focus:ring-2 focus:ring-primary focus:ring-offset-2 transition-colors duration-200">
                            <i data-lucide="search" class="w-5 h-5 sm:w-6 sm:h-6 mr-2"></i>
                            Ph√¢n t√≠ch H√¨nh ·∫£nh
                        </button>
                    </div>
                </div>
            </section>

            <section class="space-y-6 animate-fade-in" style="animation-delay: 0.2s">
                <div
                    class="bg-white rounded-2xl shadow-lg p-4 sm:p-6 md:p-8 transition-all duration-300 hover:shadow-xl border-t-4 border-secondary">
                    <h2 class="text-2xl sm:text-3xl font-bold mb-4 sm:mb-6 text-secondary flex items-center">
                        <i data-lucide="settings" class="w-6 h-6 sm:w-8 sm:h-8 mr-2 sm:mr-3 text-secondary"></i>
                        T√πy ch·ªçn N√¢ng cao
                    </h2>
                    <div class="space-y-4 sm:space-y-6">
                        <div>
                            <label for="analysisType"
                                class="block text-base sm:text-lg font-medium mb-2 text-gray-700">Lo·∫°i ph√¢n
                                t√≠ch:</label>
                            <select id="analysisType"
                                class="w-full px-4 py-2 sm:py-3 bg-white border-2 border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-secondary focus:border-transparent transition-shadow duration-200">
                                <option value="general">Ph√¢n t√≠ch t·ªïng qu√°t</option>
                                <option value="objects">Nh·∫≠n di·ªán ƒë·ªëi t∆∞·ª£ng</option>
                                <option value="text">Nh·∫≠n di·ªán vƒÉn b·∫£n</option>
                                <option value="faces">Nh·∫≠n di·ªán khu√¥n m·∫∑t</option>
                                <option value="colors">Ph√¢n t√≠ch m√†u s·∫Øc</option>
                                <option value="composition">Ph√¢n t√≠ch b·ªë c·ª•c</option>
                                <option value="emotion">Ph√¢n t√≠ch c·∫£m x√∫c</option>
                                <option value="style">Ph√¢n t√≠ch phong c√°ch ngh·ªá thu·∫≠t</option>
                                <option value="context">Ph√¢n t√≠ch ng·ªØ c·∫£nh</option>
                                <option value="symbolism">Ph√¢n t√≠ch bi·ªÉu t∆∞·ª£ng</option>
                            </select>
                        </div>
                        <div>
                            <label for="detailLevel"
                                class="block text-base sm:text-lg font-medium mb-2 text-gray-700">M·ª©c ƒë·ªô chi
                                ti·∫øt:</label>
                            <input type="range" id="detailLevel" min="1" max="5" value="3"
                                class="w-full h-2 bg-gray-200 rounded-lg appearance-none cursor-pointer accent-secondary" />
                            <div class="flex justify-between text-xs sm:text-sm text-gray-500 mt-2">
                                <span>C∆° b·∫£n</span>
                                <span>Chi ti·∫øt</span>
                            </div>
                        </div>
                        <div>
                            <label for="languageStyle"
                                class="block text-base sm:text-lg font-medium mb-2 text-gray-700">Phong c√°ch ng√¥n
                                ng·ªØ:</label>
                            <select id="languageStyle"
                                class="w-full px-4 py-2 sm:py-3 bg-white border-2 border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-secondary focus:border-transparent transition-shadow duration-200">
                                <option value="academic">H·ªçc thu·∫≠t</option>
                                <option value="conversational">ƒê√†m tho·∫°i</option>
                                <option value="technical">K·ªπ thu·∫≠t</option>
                                <option value="creative">S√°ng t·∫°o</option>
                            </select>
                        </div>
                        <div>
                            <label for="outputFormat"
                                class="block text-base sm:text-lg font-medium mb-2 text-gray-700">ƒê·ªãnh d·∫°ng k·∫øt
                                qu·∫£:</label>
                            <select id="outputFormat"
                                class="w-full px-4 py-2 sm:py-3 bg-white border-2 border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-secondary focus:border-transparent transition-shadow duration-200">
                                <option value="paragraph">ƒêo·∫°n vƒÉn</option>
                                <option value="bullet">Danh s√°ch g·∫°ch ƒë·∫ßu d√≤ng</option>
                                <option value="table">B·∫£ng</option>
                                <option value="json">JSON</option>
                            </select>
                        </div>
                        <button id="analyzeButtonAdvanced"
                            class="w-full sm:w-auto flex items-center justify-center px-6 py-3 bg-secondary text-white text-base sm:text-lg font-semibold rounded-lg hover:bg-gray-800 focus:outline-none focus:ring-2 focus:ring-secondary focus:ring-offset-2 transition-colors duration-200">
                            <i data-lucide="search" class="w-5 h-5 sm:w-6 sm:h-6 mr-2"></i>
                            Ph√¢n t√≠ch N√¢ng cao
                        </button>
                    </div>
                </div>
            </section>
        </main>

        <section id="resultSection" class="mt-8 sm:mt-12 space-y-6 animate-fade-in" style="animation-delay: 0.4s">
            <div
                class="bg-white rounded-2xl shadow-lg p-4 sm:p-6 md:p-8 transition-all duration-300 hover:shadow-xl border-t-4 border-green-500">
                <h2 class="text-2xl sm:text-3xl font-bold mb-4 sm:mb-6 text-secondary flex items-center">
                    <i data-lucide="file-text" class="w-6 h-6 sm:w-8 sm:h-8 mr-2 sm:mr-3 text-green-500"></i>
                    K·∫øt qu·∫£ Ph√¢n t√≠ch
                </h2>
                <div id="loadingAnimation" class="hidden flex justify-center items-center space-x-2 my-6 sm:my-8">
                    <div class="loading-wave"></div>
                    <div class="loading-wave"></div>
                    <div class="loading-wave"></div>
                    <div class="loading-wave"></div>
                    <div class="loading-wave"></div>
                </div>
                <div id="result" class="prose prose-sm sm:prose-base lg:prose-lg max-w-none markdown-content">
                    <p class="text-gray-500">K·∫øt qu·∫£ ph√¢n t√≠ch s·∫Ω hi·ªÉn th·ªã ·ªü ƒë√¢y...</p>
                </div>
            </div>
            <div id="visualizations"
                class="bg-white rounded-2xl shadow-lg p-4 sm:p-6 md:p-8 transition-all duration-300 hover:shadow-xl border-t-4 border-yellow-500 hidden">
                <h2 class="text-2xl sm:text-3xl font-bold mb-4 sm:mb-6 text-secondary flex items-center">
                    <i data-lucide="bar-chart" class="w-6 h-6 sm:w-8 sm:h-8 mr-2 sm:mr-3 text-yellow-500"></i>
                    Tr·ª±c quan h√≥a
                </h2>
                <div id="visualizationContent" class="grid grid-cols-1 sm:grid-cols-2 gap-4 sm:gap-6">
                    <!-- Visualization content will be added here dynamically -->
                </div>
            </div>
            <div
                class="bg-white rounded-2xl shadow-lg p-4 sm:p-6 md:p-8 transition-all duration-300 hover:shadow-xl border-t-4 border-purple-500">
                <h2 class="text-2xl sm:text-3xl font-bold mb-4 sm:mb-6 text-secondary flex items-center">
                    <i data-lucide="share" class="w-6 h-6 sm:w-8 sm:h-8 mr-2 sm:mr-3 text-purple-500"></i>
                    Chia s·∫ª
                </h2>
                <div class="space-y-4">
                    <button id="shareResults"
                        class="w-full flex items-center justify-center px-6 py-3 bg-purple-500 text-white text-base sm:text-lg font-semibold rounded-lg hover:bg-purple-600 focus:outline-none focus:ring-2 focus:ring-purple-500 focus:ring-offset-2 transition-colors duration-200">
                        <i data-lucide="share-2" class="w-5 h-5 sm:w-6 sm:h-6 mr-2"></i>
                        Chia s·∫ª k·∫øt qu·∫£
                    </button>
                </div>
            </div>
            <div
                class="bg-white rounded-2xl shadow-lg p-4 sm:p-6 md:p-8 transition-all duration-300 hover:shadow-xl border-t-4 border-indigo-500">
                <h2 class="text-2xl sm:text-3xl font-bold mb-4 sm:mb-6 text-secondary flex items-center">
                    <i data-lucide="history" class="w-6 h-6 sm:w-8 sm:h-8 mr-2 sm:mr-3 text-indigo-500"></i>
                    Ph√¢n t√≠ch g·∫ßn ƒë√¢y
                </h2>
                <ul id="recentAnalyses"
                    class="space-y-3 sm:space-y-4 max-h-48 sm:max-h-60 overflow-y-auto custom-scrollbar">
                    <!-- Recent analyses will be added here dynamically -->
                </ul>
            </div>
        </section>
    </div>
    <footer style="padding: 20px 0; text-align: center">
        <div style="
          display: flex;
          justify-content: center;
          gap: 2rem;
          margin-bottom: 1rem;
        ">
            <a href="https://github.com/tanbaycu" target="_blank" rel="noopener noreferrer" class="icon-link">
                <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none"
                    stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                    <path
                        d="M9 19c-5 1.5-5-2.5-7-3m14 6v-3.87a3.37 3.37 0 0 0-.94-2.61c3.14-.35 6.44-1.54 6.44-7A5.44 5.44 0 0 0 20 4.77 5.07 5.07 0 0 0 19.91 1S18.73.65 16 2.48a13.38 13.38 0 0 0-7 0C6.27.65 5.09 1 5.09 1A5.07 5.07 0 0 0 5 4.77a5.44 5.44 0 0 0-1.5 3.78c0 5.42 3.3 6.61 6.44 7A3.37 3.37 0 0 0 9 18.13V22">
                    </path>
                </svg>
            </a>
            <a href="https://facebook.com/tanbaycu.kaiser" target="_blank" rel="noopener noreferrer" class="icon-link">
                <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none"
                    stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                    <path d="M18 2h-3a5 5 0 0 0-5 5v3H7v4h3v8h4v-8h3l1-4h-4V7a1 1 0 0 1 1-1h3z"></path>
                </svg>
            </a>
            <a href="https://t.me/tanbaycu" target="_blank" rel="noopener noreferrer" class="icon-link">
                <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none"
                    stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                    <line x1="22" y1="2" x2="11" y2="13"></line>
                    <polygon points="22 2 15 22 11 13 2 9 22 2"></polygon>
                </svg>
            </a>
        </div>
        <p style="color: #333; font-size: 1rem; margin: 0">
            üõ°Ô∏è2024 | DeepLookAI powered by tanbaycu
        </p>

        <style>
            .icon-link {
                color: #333;
                transition: color 0.3s ease;
            }

            .icon-link:hover {
                color: #3b82f6;
            }
        </style>
    </footer>

    <script>
        lucide.createIcons();

        const API_KEY = "AIzaSyD8Zc-j7kc_FkSF_WXQdxQpc4bGBD5KElU";
        const API_URL =
            "https://generativelanguage.googleapis.com/v1beta/models/";

        document
            .getElementById("imageUpload")
            .addEventListener("change", function (event) {
                const file = event.target.files[0];
                if (file) {
                    const reader = new FileReader();
                    reader.onload = function (e) {
                        document.getElementById("previewImage").src = e.target.result;
                        document
                            .getElementById("imagePreview")
                            .classList.remove("hidden");
                    };
                    reader.readAsDataURL(file);
                }
            });

        document
            .getElementById("fetchImageUrl")
            .addEventListener("click", function () {
                const imageUrl = document.getElementById("imageUrl").value;
                if (imageUrl) {
                    document.getElementById("previewImage").src = imageUrl;
                    document.getElementById("imagePreview").classList.remove("hidden");
                }
            });

        document
            .getElementById("analyzeButtonSimple")
            .addEventListener("click", analyzeImage);
        document
            .getElementById("analyzeButtonAdvanced")
            .addEventListener("click", analyzeImage);
        document
            .getElementById("analyzeUrlButton")
            .addEventListener("click", analyzeImage);

        function scrollToResults() {
            const resultSection = document.getElementById("resultSection");
            resultSection.scrollIntoView({ behavior: "smooth" });
        }

        function showLoading() {
            document.getElementById("loadingAnimation").classList.remove("hidden");
            document.getElementById("result").innerHTML = "";
        }

        function hideLoading() {
            document.getElementById("loadingAnimation").classList.add("hidden");
        }

        async function analyzeImage() {
            const imageInput = document.getElementById("imageUpload");
            const imageUrl = document.getElementById("imageUrl").value;
            const promptInput = document.getElementById("promptInput");
            const modelSelect = document.getElementById("modelSelect");
            const analysisType = document.getElementById("analysisType").value;
            const detailLevel = document.getElementById("detailLevel").value;
            const languageStyle = document.getElementById("languageStyle").value;
            const outputFormat = document.getElementById("outputFormat").value;
            const resultElement = document.getElementById("result");
            const visualizationsElement = document.getElementById("visualizations");
            const visualizationContentElement = document.getElementById(
                "visualizationContent"
            );

            if (!imageInput.files[0] && !imageUrl) {
                alert(
                    "Vui l√≤ng t·∫£i l√™n h√¨nh ·∫£nh ho·∫∑c cung c·∫•p URL h√¨nh ·∫£nh tr∆∞·ªõc khi ph√¢n t√≠ch."
                );
                return;
            }

            scrollToResults();
            showLoading();

            try {
                let imageBase64;
                if (imageInput.files[0]) {
                    imageBase64 = await getBase64(imageInput.files[0]);
                } else {
                    imageBase64 = await getBase64FromUrl(imageUrl);
                }
                const lang = document.getElementById("languageSelect").value;
                const prompt = generatePrompt(
                    promptInput.value,
                    analysisType,
                    detailLevel,
                    languageStyle,
                    outputFormat,
                    lang
                );
                const selectedModel = modelSelect.value;
                const response = await fetch(
                    `${API_URL}${selectedModel}:generateContent?key=${API_KEY}`,
                    {
                        method: "POST",
                        headers: {
                            "Content-Type": "application/json"
                        },
                        body: JSON.stringify({
                            contents: [
                                {
                                    parts: [
                                        { text: prompt },
                                        {
                                            inline_data: {
                                                mime_type: imageInput.files[0]
                                                    ? imageInput.files[0].type
                                                    : "image/jpeg",
                                                data: imageBase64
                                            }
                                        }
                                    ]
                                }
                            ]
                        })
                    }
                );

                if (!response.ok) {
                    throw new Error("L·ªói k·∫øt n·ªëi m·∫°ng");
                }

                const data = await response.json();
                const analysisResult = data.candidates[0].content.parts[0].text;
                hideLoading();
                displayAnalysisResult(analysisResult, resultElement, outputFormat);

                // X·ª≠ l√Ω tr·ª±c quan h√≥a
                const visualizations = generateVisualizations(
                    analysisType,
                    analysisResult
                );
                if (visualizations) {
                    visualizationContentElement.innerHTML = visualizations;
                    visualizationsElement.classList.remove("hidden");
                } else {
                    visualizationsElement.classList.add("hidden");
                }

                // Th√™m ph√¢n t√≠ch g·∫ßn ƒë√¢y
                addRecentAnalysis(analysisType);
            } catch (error) {
                console.error("L·ªói:", error);
                hideLoading();
                resultElement.innerHTML = `<p class="text-red-500">L·ªói: ${error.message}</p>`;
            }
        }

        function getBase64(file) {
            return new Promise((resolve, reject) => {
                const reader = new FileReader();
                reader.readAsDataURL(file);
                reader.onload = () => resolve(reader.result.split(",")[1]);
                reader.onerror = (error) => reject(error);
            });
        }

        async function getBase64FromUrl(url) {
            const response = await fetch(url);
            const blob = await response.blob();
            return new Promise((resolve, reject) => {
                const reader = new FileReader();
                reader.onloadend = () => resolve(reader.result.split(",")[1]);
                reader.onerror = reject;
                reader.readAsDataURL(blob);
            });
        }

        function generatePrompt(
            userPrompt,
            analysisType,
            detailLevel,
            languageStyle,
            outputFormat,
            lang
        ) {
            let basePrompt =
                lang === "en"
                    ? "You are an experienced image analysis expert. Please analyze the following image and provide detailed information. "
                    : "B·∫°n l√† m·ªôt chuy√™n gia ph√¢n t√≠ch h√¨nh ·∫£nh c√≥ kinh nghi·ªám. H√£y ph√¢n t√≠ch h√¨nh ·∫£nh sau ƒë√¢y v√† cung c·∫•p th√¥ng tin chi ti·∫øt. ";

            basePrompt +=
                lang === "en"
                    ? "IMPORTANT: Your response MUST be ENTIRELY in English. DO NOT use any Vietnamese words in your analysis. "
                    : "QUAN TR·ªåNG: Ph·∫£n h·ªìi c·ªßa b·∫°n PH·∫¢I HO√ÄN TO√ÄN b·∫±ng ti·∫øng Vi·ªát. KH√îNG s·ª≠ d·ª•ng b·∫•t k·ª≥ t·ª´ ti·∫øng Anh n√†o trong ph√¢n t√≠ch c·ªßa b·∫°n. ";

            basePrompt +=
                lang === "en"
                    ? "Please highlight key points using Markdown formatting. Use **bold** for important points, *italics* for minor details, and create structured lists when necessary. "
                    : "H√£y l√†m n·ªïi b·∫≠t c√°c √Ω ch√≠nh b·∫±ng c√°ch s·ª≠ d·ª•ng ƒë·ªãnh d·∫°ng Markdown. S·ª≠ d·ª•ng **in ƒë·∫≠m** cho c√°c ƒëi·ªÉm quan tr·ªçng, *in nghi√™ng* cho c√°c chi ti·∫øt ph·ª•, v√† t·∫°o danh s√°ch c√≥ c·∫•u tr√∫c khi c·∫ßn thi·∫øt. ";

            switch (analysisType) {
                case "objects":
                    basePrompt +=
                        lang === "en"
                            ? "Focus on identifying and describing the main objects in the image in detail. List the objects and describe their location, size, and color. Analyze the relationships between objects if any."
                            : "T·∫≠p trung v√†o vi·ªác nh·∫≠n di·ªán v√† m√¥ t·∫£ chi ti·∫øt c√°c ƒë·ªëi t∆∞·ª£ng ch√≠nh trong h√¨nh. Li·ªát k√™ c√°c ƒë·ªëi t∆∞·ª£ng v√† m√¥ t·∫£ v·ªã tr√≠, k√≠ch th∆∞·ªõc, m√†u s·∫Øc c·ªßa ch√∫ng. Ph√¢n t√≠ch m·ªëi quan h·ªá gi·ªØa c√°c ƒë·ªëi t∆∞·ª£ng n·∫øu c√≥.";
                    break;
                case "text":
                    basePrompt +=
                        lang === "en"
                            ? "Identify and extract any text that appears in the image. If any, analyze the content of that text, including language, style, and meaning in the context of the image."
                            : "Nh·∫≠n di·ªán v√† tr√≠ch xu·∫•t m·ªçi vƒÉn b·∫£n xu·∫•t hi·ªán trong h√¨nh ·∫£nh. N·∫øu c√≥, h√£y ph√¢n t√≠ch n·ªôi dung vƒÉn b·∫£n ƒë√≥, bao g·ªìm ng√¥n ng·ªØ, phong c√°ch, v√† √Ω nghƒ©a trong ng·ªØ c·∫£nh c·ªßa h√¨nh ·∫£nh.";
                    break;
                case "faces":
                    basePrompt +=
                        lang === "en"
                            ? "Focus on identifying and describing the faces in the image. Analyze expressions, prominent features, and estimate age if possible. If there are multiple faces, describe the possible relationships between them."
                            : "T·∫≠p trung v√†o vi·ªác nh·∫≠n di·ªán v√† m√¥ t·∫£ c√°c khu√¥n m·∫∑t trong h√¨nh. Ph√¢n t√≠ch bi·ªÉu c·∫£m, ƒë·∫∑c ƒëi·ªÉm n·ªïi b·∫≠t, v√† ∆∞·ªõc t√≠nh ƒë·ªô tu·ªïi n·∫øu c√≥ th·ªÉ. N·∫øu c√≥ nhi·ªÅu khu√¥n m·∫∑t, h√£y m√¥ t·∫£ m·ªëi quan h·ªá c√≥ th·ªÉ c√≥ gi·ªØa h·ªç.";
                    break;
                case "colors":
                    basePrompt +=
                        lang === "en"
                            ? "Analyze the color palette of the image. Identify the dominant colors and describe how they interact with each other. Explain the meaning and emotions that this color palette may convey."
                            : "Ph√¢n t√≠ch b·∫£ng m√†u c·ªßa h√¨nh ·∫£nh. X√°c ƒë·ªãnh m√†u s·∫Øc ch·ªß ƒë·∫°o v√† m√¥ t·∫£ c√°ch ch√∫ng t∆∞∆°ng t√°c v·ªõi nhau. Gi·∫£i th√≠ch √Ω nghƒ©a v√† c·∫£m x√∫c m√† b·∫£ng m√†u n√†y c√≥ th·ªÉ truy·ªÅn t·∫£i.";
                    break;
                case "composition":
                    basePrompt +=
                        lang === "en"
                            ? "Analyze the composition and structure of the image. Describe how the elements are arranged and their impact on the overall image. Identify the design principles used and their effectiveness."
                            : "Ph√¢n t√≠ch b·ªë c·ª•c v√† c·∫•u tr√∫c c·ªßa h√¨nh ·∫£nh. M√¥ t·∫£ c√°ch c√°c y·∫øu t·ªë ƒë∆∞·ª£c s·∫Øp x·∫øp v√† t√°c ƒë·ªông c·ªßa ch√∫ng ƒë·∫øn t·ªïng th·ªÉ b·ª©c ·∫£nh. X√°c ƒë·ªãnh c√°c nguy√™n t·∫Øc thi·∫øt k·∫ø ƒë∆∞·ª£c s·ª≠ d·ª•ng v√† hi·ªáu qu·∫£ c·ªßa ch√∫ng.";
                    break;
                case "emotion":
                    basePrompt +=
                        lang === "en"
                            ? "Analyze the emotions and mood conveyed by the image. Identify the specific elements in the image that contribute to that emotion and explain why."
                            : "Ph√¢n t√≠ch c·∫£m x√∫c v√† t√¢m tr·∫°ng m√† h√¨nh ·∫£nh truy·ªÅn t·∫£i. X√°c ƒë·ªãnh c√°c y·∫øu t·ªë c·ª• th·ªÉ trong h√¨nh ·∫£nh g√≥p ph·∫ßn t·∫°o n√™n c·∫£m x√∫c ƒë√≥ v√† gi·∫£i th√≠ch t·∫°i sao.";
                    break;
                case "style":
                    basePrompt +=
                        lang === "en"
                            ? "Analyze the artistic style of the image. Identify the techniques, styles, or artistic schools that may have been applied. Compare to famous works of art if possible."
                            : "Ph√¢n t√≠ch phong c√°ch ngh·ªá thu·∫≠t c·ªßa h√¨nh ·∫£nh. X√°c ƒë·ªãnh c√°c k·ªπ thu·∫≠t, phong c√°ch, ho·∫∑c tr∆∞·ªùng ph√°i ngh·ªá thu·∫≠t c√≥ th·ªÉ ƒë∆∞·ª£c √°p d·ª•ng. So s√°nh v·ªõi c√°c t√°c ph·∫©m ngh·ªá thu·∫≠t n·ªïi ti·∫øng n·∫øu c√≥ th·ªÉ.";
                    break;
                case "context":
                    basePrompt +=
                        lang === "en"
                            ? "Analyze the context of the image. Identify the time, place, and cultural or historical context that may be relevant. Explain the meaning of the image in a broader context."
                            : "Ph√¢n t√≠ch ng·ªØ c·∫£nh c·ªßa h√¨nh ·∫£nh. X√°c ƒë·ªãnh th·ªùi gian, ƒë·ªãa ƒëi·ªÉm, v√† b·ªëi c·∫£nh vƒÉn h√≥a ho·∫∑c l·ªãch s·ª≠ c√≥ th·ªÉ li√™n quan. Gi·∫£i th√≠ch √Ω nghƒ©a c·ªßa h√¨nh ·∫£nh trong b·ªëi c·∫£nh r·ªông h∆°n.";
                    break;
                case "symbolism":
                    basePrompt +=
                        lang === "en"
                            ? "Analyze the symbols and metaphors in the image. Identify elements that may have symbolic meaning and explain their deeper meaning in the context of the image."
                            : "Ph√¢n t√≠ch c√°c bi·ªÉu t∆∞·ª£ng v√† ·∫©n d·ª• trong h√¨nh ·∫£nh. X√°c ƒë·ªãnh c√°c y·∫øu t·ªë c√≥ th·ªÉ mang √Ω nghƒ©a bi·ªÉu t∆∞·ª£ng v√† gi·∫£i th√≠ch √Ω nghƒ©a s√¢u xa c·ªßa ch√∫ng trong ng·ªØ c·∫£nh c·ªßa h√¨nh ·∫£nh.";
                    break;
                default:
                    basePrompt +=
                        lang === "en"
                            ? "Provide a general analysis of the content, meaning, and context of the image. Include elements such as objects, colors, composition, and overall meaning."
                            : "Cung c·∫•p m·ªôt ph√¢n t√≠ch t·ªïng qu√°t v·ªÅ n·ªôi dung, √Ω nghƒ©a v√† b·ªëi c·∫£nh c·ªßa h√¨nh ·∫£nh. Bao g·ªìm c√°c y·∫øu t·ªë nh∆∞ ƒë·ªëi t∆∞·ª£ng, m√†u s·∫Øc, b·ªë c·ª•c, v√† √Ω nghƒ©a t·ªïng th·ªÉ.";
            }

            basePrompt +=
                lang === "en"
                    ? `Required detail level: ${detailLevel}/5. Adjust the depth and scope of the analysis according to this level. `
                    : `M·ª©c ƒë·ªô chi ti·∫øt y√™u c·∫ßu: ${detailLevel}/5. H√£y ƒëi·ªÅu ch·ªânh ƒë·ªô s√¢u v√† ph·∫°m vi c·ªßa ph√¢n t√≠ch theo m·ª©c ƒë·ªô n√†y. `;

            switch (languageStyle) {
                case "academic":
                    basePrompt +=
                        lang === "en"
                            ? "Use academic and formal language in your analysis. "
                            : "S·ª≠ d·ª•ng ng√¥n ng·ªØ h·ªçc thu·∫≠t v√† ch√≠nh th·ª©c trong ph√¢n t√≠ch c·ªßa b·∫°n. ";
                    break;
                case "conversational":
                    basePrompt +=
                        lang === "en"
                            ? "Use conversational and easy-to-understand language in your analysis. "
                            : "S·ª≠ d·ª•ng ng√¥n ng·ªØ ƒë√†m tho·∫°i v√† d·ªÖ hi·ªÉu trong ph√¢n t√≠ch c·ªßa b·∫°n. ";
                    break;
                case "technical":
                    basePrompt +=
                        lang === "en"
                            ? "Use technical and specialized language in your analysis. "
                            : "S·ª≠ d·ª•ng ng√¥n ng·ªØ k·ªπ thu·∫≠t v√† chuy√™n ng√†nh trong ph√¢n t√≠ch c·ªßa b·∫°n. ";
                    break;
                case "creative":
                    basePrompt +=
                        lang === "en"
                            ? "Use creative and figurative language in your analysis. "
                            : "S·ª≠ d·ª•ng ng√¥n ng·ªØ s√°ng t·∫°o v√† h√¨nh t∆∞·ª£ng trong ph√¢n t√≠ch c·ªßa b·∫°n. ";
                    break;
            }

            switch (outputFormat) {
                case "paragraph":
                    basePrompt +=
                        lang === "en"
                            ? "Present the results as structured paragraphs, using Markdown to highlight key points. "
                            : "Tr√¨nh b√†y k·∫øt qu·∫£ d∆∞·ªõi d·∫°ng c√°c ƒëo·∫°n vƒÉn c√≥ c·∫•u tr√∫c, s·ª≠ d·ª•ng Markdown ƒë·ªÉ l√†m n·ªïi b·∫≠t c√°c √Ω ch√≠nh. ";
                    break;
                case "bullet":
                    basePrompt +=
                        lang === "en"
                            ? "Present the results as a bulleted list, using Markdown to create a structured list and highlight key points. "
                            : "Tr√¨nh b√†y k·∫øt qu·∫£ d∆∞·ªõi d·∫°ng danh s√°ch g·∫°ch ƒë·∫ßu d√≤ng, s·ª≠ d·ª•ng Markdown ƒë·ªÉ t·∫°o danh s√°ch c√≥ c·∫•u tr√∫c v√† l√†m n·ªïi b·∫≠t c√°c √Ω ch√≠nh. ";
                    break;
                case "table":
                    basePrompt +=
                        lang === "en"
                            ? "Present the results as a Markdown table if possible, using Markdown table formatting to clearly organize the information. "
                            : "Tr√¨nh b√†y k·∫øt qu·∫£ d∆∞·ªõi d·∫°ng b·∫£ng Markdown n·∫øu c√≥ th·ªÉ, s·ª≠ d·ª•ng ƒë·ªãnh d·∫°ng b·∫£ng Markdown ƒë·ªÉ t·ªï ch·ª©c th√¥ng tin m·ªôt c√°ch r√µ r√†ng. ";
                    break;
                case "json":
                    basePrompt +=
                        lang === "en"
                            ? "Present the results as a valid JSON string. "
                            : "Tr√¨nh b√†y k·∫øt qu·∫£ d∆∞·ªõi d·∫°ng chu·ªói JSON h·ª£p l·ªá. ";
                    break;
            }

            if (userPrompt) {
                basePrompt +=
                    lang === "en"
                        ? `Also, please answer the following user question: ${userPrompt}. Ensure your answer is directly related to the image and your analysis.`
                        : `Ngo√†i ra, h√£y tr·∫£ l·ªùi c√¢u h·ªèi sau c·ªßa ng∆∞·ªùi d√πng: ${userPrompt}. ƒê·∫£m b·∫£o c√¢u tr·∫£ l·ªùi c·ªßa b·∫°n li√™n quan tr·ª±c ti·∫øp ƒë·∫øn h√¨nh ·∫£nh v√† ph√¢n t√≠ch c·ªßa b·∫°n.`;
            }

            return basePrompt;
        }

        function displayAnalysisResult(
            analysisText,
            resultElement,
            outputFormat
        ) {
            let formattedAnalysis = analysisText;

            if (outputFormat === "json") {
                try {
                    const jsonObj = JSON.parse(analysisText);
                    formattedAnalysis = JSON.stringify(jsonObj, null, 2);
                    formattedAnalysis =
                        "<pre><code>" + formattedAnalysis + "</code></pre>";
                } catch (e) {
                    console.error("L·ªói khi ph√¢n t√≠ch JSON:", e);
                }
            } else {
                // S·ª≠ d·ª•ng th∆∞ vi·ªán marked ƒë·ªÉ chuy·ªÉn ƒë·ªïi Markdown th√†nh HTML
                formattedAnalysis = marked.parse(analysisText);
            }

            resultElement.innerHTML = formattedAnalysis;
        }

        function generateVisualizations(analysisType, analysisResult) {
            let visualizations = "";

            switch (analysisType) {
                case "colors":
                    visualizations += generateColorPalette(analysisResult);
                    break;
                case "objects":
                    visualizations += generateObjectDistribution(analysisResult);
                    break;
                case "emotion":
                    visualizations += generateEmotionChart(analysisResult);
                    break;
                case "faces":
                    visualizations += generateFaceAnalysis(analysisResult);
                    break;
                case "composition":
                    visualizations += generateCompositionAnalysis(analysisResult);
                    break;
            }

            return visualizations;
        }

        function generateColorPalette(analysisResult) {
            const colors = extractColorsFromAnalysis(analysisResult);
            let html =
                '<div class="color-palette flex flex-wrap justify-center gap-2 sm:gap-4 mb-4 sm:mb-6">';
            colors.forEach((color) => {
                html += `
                    <div class="color-item text-center">
                        <div class="w-12 h-12 sm:w-16 sm:h-16 rounded-full shadow-lg" style="background-color: ${color};" title="${color}"></div>
                        <span class="text-xs sm:text-sm mt-1 sm:mt-2 block">${color}</span>
                    </div>`;
            });
            html += "</div>";
            return html;
        }

        function generateObjectDistribution(analysisResult) {
            const objects = extractObjectsFromAnalysis(analysisResult);
            let html = '<div class="object-distribution mb-4 sm:mb-6">';
            html += '<canvas id="objectChart"></canvas>';
            html += "</div>";

            setTimeout(() => {
                const ctx = document.getElementById("objectChart").getContext("2d");
                new Chart(ctx, {
                    type: "bar",
                    data: {
                        labels: Object.keys(objects),
                        datasets: [
                            {
                                label: "S·ªë l∆∞·ª£ng ƒë·ªëi t∆∞·ª£ng",
                                data: Object.values(objects),
                                backgroundColor: "rgba(75, 192, 192, 0.6)",
                                borderColor: "rgba(75, 192, 192, 1)",
                                borderWidth: 1
                            }
                        ]
                    },
                    options: {
                        responsive: true,
                        scales: {
                            y: {
                                beginAtZero: true
                            }
                        }
                    }
                });
            }, 0);

            return html;
        }

        function generateEmotionChart(analysisResult) {
            const emotions = extractEmotionsFromAnalysis(analysisResult);
            let html = '<div class="emotion-chart mb-4 sm:mb-6">';
            html += '<canvas id="emotionChart"></canvas>';
            html += "</div>";

            setTimeout(() => {
                const ctx = document.getElementById("emotionChart").getContext("2d");
                new Chart(ctx, {
                    type: "radar",
                    data: {
                        labels: Object.keys(emotions),
                        datasets: [
                            {
                                label: "C∆∞·ªùng ƒë·ªô c·∫£m x√∫c",
                                data: Object.values(emotions),
                                backgroundColor: "rgba(255, 99, 132, 0.2)",
                                borderColor: "rgba(255, 99, 132, 1)",
                                borderWidth: 1
                            }
                        ]
                    },
                    options: {
                        responsive: true,
                        scale: {
                            ticks: {
                                beginAtZero: true,
                                max: 5
                            }
                        }
                    }
                });
            }, 0);

            return html;
        }

        function generateFaceAnalysis(analysisResult) {
            const faceData = extractFaceDataFromAnalysis(analysisResult);
            let html = '<div class="face-analysis mb-4 sm:mb-6">';
            html +=
                '<h3 class="text-lg sm:text-xl font-semibold mb-2 sm:mb-4">Ph√¢n t√≠ch khu√¥n m·∫∑t</h3>';
            html += '<div class="grid grid-cols-1 sm:grid-cols-2 gap-2 sm:gap-4">';
            faceData.forEach((face) => {
                html += `
                    <div class="bg-gray-100 p-3 sm:p-4 rounded-lg shadow">
                        <p class="font-medium text-sm sm:text-base">Khu√¥n m·∫∑t ${face.id}</p>
                        <p class="text-xs sm:text-sm">Bi·ªÉu c·∫£m: ${face.expression}</p>
                        <p class="text-xs sm:text-sm">ƒê·ªô tu·ªïi ∆∞·ªõc t√≠nh: ${face.age}</p>
                    </div>`;
            });
            html += "</div></div>";
            return html;
        }

        function generateCompositionAnalysis(analysisResult) {
            const compositionData =
                extractCompositionDataFromAnalysis(analysisResult);
            let html = '<div class="composition-analysis mb-4 sm:mb-6">';
            html +=
                '<h3 class="text-lg sm:text-xl font-semibold mb-2 sm:mb-4">Ph√¢n t√≠ch b·ªë c·ª•c</h3>';
            html += '<div class="grid grid-cols-1 sm:grid-cols-2 gap-2 sm:gap-4">';
            Object.entries(compositionData).forEach(([key, value]) => {
                html += `
                    <div class="bg-gray-100 p-3 sm:p-4 rounded-lg shadow">
                        <p class="font-medium text-sm sm:text-base">${key}</p>
                        <p class="text-xs sm:text-sm">${value}</p>
                    </div>`;
            });
            html += "</div></div>";
            return html;
        }

        function extractColorsFromAnalysis(analysisResult) {
            // Gi·∫£ l·∫≠p vi·ªác tr√≠ch xu·∫•t m√†u s·∫Øc t·ª´ k·∫øt qu·∫£ ph√¢n t√≠ch
            return ["#FF5733", "#33FF57", "#3357FF", "#F3FF33", "#FF33F3"];
        }

        function extractObjectsFromAnalysis(analysisResult) {
            // Gi·∫£ l·∫≠p vi·ªác tr√≠ch xu·∫•t ƒë·ªëi t∆∞·ª£ng v√† s·ªë l∆∞·ª£ng t·ª´ k·∫øt qu·∫£ ph√¢n t√≠ch
            return { Ng∆∞·ªùi: 3, C√¢y: 2, Xe: 1, "T√≤a nh√†": 4 };
        }

        function extractEmotionsFromAnalysis(analysisResult) {
            // Gi·∫£ l·∫≠p vi·ªác tr√≠ch xu·∫•t c·∫£m x√∫c v√† c∆∞·ªùng ƒë·ªô t·ª´ k·∫øt qu·∫£ ph√¢n t√≠ch
            return {
                "H·∫°nh ph√∫c": 4,
                Bu·ªìn: 1,
                "T·ª©c gi·∫≠n": 2,
                "Ng·∫°c nhi√™n": 3,
                "S·ª£ h√£i": 1
            };
        }

        function extractFaceDataFromAnalysis(analysisResult) {
            // Gi·∫£ l·∫≠p vi·ªác tr√≠ch xu·∫•t d·ªØ li·ªáu khu√¥n m·∫∑t t·ª´ k·∫øt qu·∫£ ph√¢n t√≠ch
            return [
                { id: 1, expression: "H·∫°nh ph√∫c", age: "25-30" },
                { id: 2, expression: "Nghi√™m t√∫c", age: "40-45" }
            ];
        }

        function extractCompositionDataFromAnalysis(analysisResult) {
            // Gi·∫£ l·∫≠p vi·ªác tr√≠ch xu·∫•t d·ªØ li·ªáu b·ªë c·ª•c t·ª´ k·∫øt qu·∫£ ph√¢n t√≠ch
            return {
                "Quy t·∫Øc ph·∫ßn ba": "√Åp d·ª•ng",
                "ƒêi·ªÉm nh·∫•n": "Trung t√¢m h√¨nh ·∫£nh",
                "C√¢n b·∫±ng": "ƒê·ªëi x·ª©ng"
            };
        }

        function addRecentAnalysis(analysisType) {
            const recentList = document.getElementById("recentAnalyses");
            const listItem = document.createElement("li");
            listItem.className =
                "flex items-center space-x-2 sm:space-x-3 p-2 sm:p-3 bg-gray-100 rounded-lg transition-colors duration-200 hover:bg-gray-200";
            listItem.innerHTML = `
                <i data-lucide="${getAnalysisTypeIcon(
                analysisType
            )}" class="w-5 h-5 sm:w-6 sm:h-6 text-indigo-500"></i>
                <div>
                    <span class="font-medium text-sm sm:text-base">${getAnalysisTypeName(
                analysisType
            )}</span>
                    <span class="text-xs sm:text-sm text-gray-500 block">${new Date().toLocaleTimeString()}</span>
                </div>
            `;
            recentList.insertBefore(listItem, recentList.firstChild);
            if (recentList.children.length > 5) {
                recentList.removeChild(recentList.lastChild);
            }
            lucide.createIcons();
        }

        function getAnalysisTypeIcon(analysisType) {
            switch (analysisType) {
                case "general":
                    return "eye";
                case "objects":
                    return "box";
                case "text":
                    return "type";
                case "faces":
                    return "user";
                case "colors":
                    return "palette";
                case "composition":
                    return "layout";
                case "emotion":
                    return "smile";
                case "style":
                    return "brush";
                case "context":
                    return "map";
                case "symbolism":
                    return "star";
                default:
                    return "image";
            }
        }

        function getAnalysisTypeName(analysisType) {
            switch (analysisType) {
                case "general":
                    return "Ph√¢n t√≠ch t·ªïng qu√°t";
                case "objects":
                    return "Nh·∫≠n di·ªán ƒë·ªëi t∆∞·ª£ng";
                case "text":
                    return "Nh·∫≠n di·ªán vƒÉn b·∫£n";
                case "faces":
                    return "Nh·∫≠n di·ªán khu√¥n m·∫∑t";
                case "colors":
                    return "Ph√¢n t√≠ch m√†u s·∫Øc";
                case "composition":
                    return "Ph√¢n t√≠ch b·ªë c·ª•c";
                case "emotion":
                    return "Ph√¢n t√≠ch c·∫£m x√∫c";
                case "style":
                    return "Ph√¢n t√≠ch phong c√°ch ngh·ªá thu·∫≠t";
                case "context":
                    return "Ph√¢n t√≠ch ng·ªØ c·∫£nh";
                case "symbolism":
                    return "Ph√¢n t√≠ch bi·ªÉu t∆∞·ª£ng";
                default:
                    return "Ph√¢n t√≠ch kh√¥ng x√°c ƒë·ªãnh";
            }
        }

        document
            .getElementById("shareResults")
            .addEventListener("click", function () {
                if (navigator.share) {
                    navigator
                        .share({
                            title: "K·∫øt qu·∫£ ph√¢n t√≠ch h√¨nh ·∫£nh",
                            text: document.getElementById("result").innerText,
                            url: window.location.href
                        })
                        .then(() => console.log("Chia s·∫ª th√†nh c√¥ng"))
                        .catch((error) => console.log("L·ªói khi chia s·∫ª:", error));
                } else {
                    alert("Tr√¨nh duy·ªát c·ªßa b·∫°n kh√¥ng h·ªó tr·ª£ t√≠nh nƒÉng chia s·∫ª.");
                }
            });

        function changeLanguage() {
            const lang = document.getElementById("languageSelect").value;
            const translations = {
                vi: {
                    mainTitle: "Ph√¢n t√≠ch H√¨nh ·∫£nh Chuy√™n s√¢u AI",
                    mainSubtitle: "Kh√°m ph√° chi ti·∫øt ·∫©n sau m·ªói b·ª©c ·∫£nh",
                    uploadLabel: "T·∫£i l√™n h√¨nh ·∫£nh:",
                    urlLabel: "Ho·∫∑c nh·∫≠p URL h√¨nh ·∫£nh:",
                    modelLabel: "Ch·ªçn m√¥ h√¨nh:",
                    promptLabel: "Nh·∫≠p prompt m√¥ t·∫£ h√¨nh ·∫£nh:",
                    analyzeButton: "Ph√¢n t√≠ch H√¨nh ·∫£nh",
                    advancedOptions: "T√πy ch·ªçn N√¢ng cao",
                    analysisTypeLabel: "Lo·∫°i ph√¢n t√≠ch:",
                    detailLevelLabel: "M·ª©c ƒë·ªô chi ti·∫øt:",
                    languageStyleLabel: "Phong c√°ch ng√¥n ng·ªØ:",
                    outputFormatLabel: "ƒê·ªãnh d·∫°ng k·∫øt qu·∫£:",
                    resultsTitle: "K·∫øt qu·∫£ Ph√¢n t√≠ch",
                    visualizationTitle: "Tr·ª±c quan h√≥a",
                    shareTitle: "Chia s·∫ª",
                    recentAnalysesTitle: "Ph√¢n t√≠ch g·∫ßn ƒë√¢y",
                    placeholderPrompt:
                        "M√¥ t·∫£ chi ti·∫øt v·ªÅ h√¨nh ·∫£nh ho·∫∑c ƒë·∫∑t c√¢u h·ªèi c·ª• th·ªÉ...",
                    generalAnalysis: "Ph√¢n t√≠ch t·ªïng qu√°t",
                    objectDetection: "Nh·∫≠n di·ªán ƒë·ªëi t∆∞·ª£ng",
                    textDetection: "Nh·∫≠n di·ªán vƒÉn b·∫£n",
                    faceDetection: "Nh·∫≠n di·ªán khu√¥n m·∫∑t",
                    colorAnalysis: "Ph√¢n t√≠ch m√†u s·∫Øc",
                    compositionAnalysis: "Ph√¢n t√≠ch b·ªë c·ª•c",
                    emotionAnalysis: "Ph√¢n t√≠ch c·∫£m x√∫c",
                    styleAnalysis: "Ph√¢n t√≠ch phong c√°ch ngh·ªá thu·∫≠t",
                    contextAnalysis: "Ph√¢n t√≠ch ng·ªØ c·∫£nh",
                    symbolismAnalysis: "Ph√¢n t√≠ch bi·ªÉu t∆∞·ª£ng",
                    academicStyle: "H·ªçc thu·∫≠t",
                    conversationalStyle: "ƒê√†m tho·∫°i",
                    technicalStyle: "K·ªπ thu·∫≠t",
                    creativeStyle: "S√°ng t·∫°o",
                    paragraphFormat: "ƒêo·∫°n vƒÉn",
                    bulletFormat: "Danh s√°ch g·∫°ch ƒë·∫ßu d√≤ng",
                    tableFormat: "B·∫£ng",
                    jsonFormat: "JSON",
                    shareButton: "Chia s·∫ª k·∫øt qu·∫£",
                    noImageAlert:
                        "Vui l√≤ng t·∫£i l√™n h√¨nh ·∫£nh ho·∫∑c cung c·∫•p URL h√¨nh ·∫£nh tr∆∞·ªõc khi ph√¢n t√≠ch.",
                    networkError: "L·ªói k·∫øt n·ªëi m·∫°ng",
                    objectChartLabel: "S·ªë l∆∞·ª£ng ƒë·ªëi t∆∞·ª£ng",
                    emotionChartLabel: "C∆∞·ªùng ƒë·ªô c·∫£m x√∫c",
                    faceAnalysisTitle: "Ph√¢n t√≠ch khu√¥n m·∫∑t",
                    compositionAnalysisTitle: "Ph√¢n t√≠ch b·ªë c·ª•c",
                    noShareSupport:
                        "Tr√¨nh duy·ªát c·ªßa b·∫°n kh√¥ng h·ªó tr·ª£ t√≠nh nƒÉng chia s·∫ª."
                },
                en: {
                    mainTitle: "AI-Powered Deep Image Analysis",
                    mainSubtitle: "Uncover hidden details in every image",
                    uploadLabel: "Upload Image:",
                    urlLabel: "Or enter image URL:",
                    modelLabel: "Select Model:",
                    promptLabel: "Enter image description prompt:",
                    analyzeButton: "Analyze Image",
                    advancedOptions: "Advanced Options",
                    analysisTypeLabel: "Analysis Type:",
                    detailLevelLabel: "Detail Level:",
                    languageStyleLabel: "Language Style:",
                    outputFormatLabel: "Output Format:",
                    resultsTitle: "Analysis Results",
                    visualizationTitle: "Visualizations",
                    shareTitle: "Share",
                    recentAnalysesTitle: "Recent Analyses",
                    placeholderPrompt:
                        "Describe the image in detail or ask specific questions...",
                    generalAnalysis: "General Analysis",
                    objectDetection: "Object Detection",
                    textDetection: "Text Detection",
                    faceDetection: "Face Detection",
                    colorAnalysis: "Color Analysis",
                    compositionAnalysis: "Composition Analysis",
                    emotionAnalysis: "Emotion Analysis",
                    styleAnalysis: "Style Analysis",
                    contextAnalysis: "Context Analysis",
                    symbolismAnalysis: "Symbolism Analysis",
                    academicStyle: "Academic",
                    conversationalStyle: "Conversational",
                    technicalStyle: "Technical",
                    creativeStyle: "Creative",
                    paragraphFormat: "Paragraph",
                    bulletFormat: "Bulleted List",
                    tableFormat: "Table",
                    jsonFormat: "JSON",
                    shareButton: "Share Results",
                    noImageAlert:
                        "Please upload an image or provide an image URL before analyzing.",
                    networkError: "Network error",
                    objectChartLabel: "Number of objects",
                    emotionChartLabel: "Emotion intensity",
                    faceAnalysisTitle: "Face Analysis",
                    compositionAnalysisTitle: "Composition Analysis",
                    noShareSupport: "Your browser does not support the share feature."
                }
            };

            // Update main title and subtitle
            document.getElementById("mainTitle").textContent =
                translations[lang].mainTitle;
            document.getElementById("mainSubtitle").textContent =
                translations[lang].mainSubtitle;

            // Update labels and button texts
            updateLabelsAndButtons(lang, translations);

            // Update HTML lang attribute
            document.documentElement.lang = lang;

            // Update prompt language
            updatePromptLanguage(lang, translations);
        }

        function updateLabelsAndButtons(lang, translations) {
            const elementsToUpdate = [
                { id: "imageUpload", labelId: "uploadLabel" },
                { id: "imageUrl", labelId: "urlLabel" },
                { id: "modelSelect", labelId: "modelLabel" },
                { id: "promptInput", labelId: "promptLabel" },
                { id: "analyzeButtonSimple", textId: "analyzeButton" },
                { id: "analysisType", labelId: "analysisTypeLabel" },
                { id: "detailLevel", labelId: "detailLevelLabel" },
                { id: "languageStyle", labelId: "languageStyleLabel" },
                { id: "outputFormat", labelId: "outputFormatLabel" },
                { id: "resultSection h2", textId: "resultsTitle" },
                { id: "visualizations h2", textId: "visualizationTitle" },
                { id: "shareResults", textId: "shareButton" },
                { id: "recentAnalyses", labelId: "recentAnalysesTitle" }
            ];

            elementsToUpdate.forEach((element) => {
                const label = document.getElementById(
                    element.labelId ? element.labelId : element.textId
                );
                if (label) {
                    label.textContent =
                        translations[lang][
                        element.labelId ? element.labelId : element.textId
                        ];
                }
                const button = document.getElementById(element.id);
                if (button && element.textId) {
                    button.textContent = translations[lang][element.textId];
                }
            });
        }

        function updatePromptLanguage(lang, translations) {
            document.getElementById("promptInput").placeholder =
                translations[lang].placeholderPrompt;
        }

        // Option values for analysis type, language style, and output format
        const analysisTypeOptions = {
            vi: [
                "Ph√¢n t√≠ch t·ªïng qu√°t",
                "Nh·∫≠n di·ªán ƒë·ªëi t∆∞·ª£ng",
                "Nh·∫≠n di·ªán vƒÉn b·∫£n",
                "Nh·∫≠n di·ªán khu√¥n m·∫∑t",
                "Ph√¢n t√≠ch m√†u s·∫Øc",
                "Ph√¢n t√≠ch b·ªë c·ª•c",
                "Ph√¢n t√≠ch c·∫£m x√∫c",
                "Ph√¢n t√≠ch phong c√°ch ngh·ªá thu·∫≠t",
                "Ph√¢n t√≠ch ng·ªØ c·∫£nh",
                "Ph√¢n t√≠ch bi·ªÉu t∆∞·ª£ng"
            ],
            en: [
                "General Analysis",
                "Object Detection",
                "Text Detection",
                "Face Detection",
                "Color Analysis",
                "Composition Analysis",
                "Emotion Analysis",
                "Style Analysis",
                "Context Analysis",
                "Symbolism Analysis"
            ]
        };
        const languageStyleOptions = {
            vi: ["H·ªçc thu·∫≠t", "ƒê√†m tho·∫°i", "K·ªπ thu·∫≠t", "S√°ng t·∫°o"],
            en: ["Academic", "Conversational", "Technical", "Creative"]
        };
        const outputFormatOptions = {
            vi: ["ƒêo·∫°n vƒÉn", "Danh s√°ch g·∫°ch ƒë·∫ßu d√≤ng", "B·∫£ng", "JSON"],
            en: ["Paragraph", "Bulleted List", "Table", "JSON"]
        };

        function updateSelectOptions(selectId, options) {
            const selectElement = document.getElementById(selectId);
            selectElement.innerHTML = ""; // Clear existing options
            options.forEach((option) => {
                const optionElement = document.createElement("option");
                optionElement.value = option;
                optionElement.text = option;
                selectElement.appendChild(optionElement);
            });
        }

        function changeLanguage() {
            const lang = document.getElementById("languageSelect").value;
            const translations = {
                vi: {
                    mainTitle: "Ph√¢n t√≠ch H√¨nh ·∫£nh Chuy√™n s√¢u AI",
                    mainSubtitle: "Kh√°m ph√° chi ti·∫øt ·∫©n sau m·ªói b·ª©c ·∫£nh",
                    uploadLabel: "T·∫£i l√™n h√¨nh ·∫£nh:",
                    urlLabel: "Ho·∫∑c nh·∫≠p URL h√¨nh ·∫£nh:",
                    modelLabel: "Ch·ªçn m√¥ h√¨nh:",
                    promptLabel: "Nh·∫≠p prompt m√¥ t·∫£ h√¨nh ·∫£nh:",
                    analyzeButton: "Ph√¢n t√≠ch H√¨nh ·∫£nh",
                    advancedOptions: "T√πy ch·ªçn N√¢ng cao",
                    analysisTypeLabel: "Lo·∫°i ph√¢n t√≠ch:",
                    detailLevelLabel: "M·ª©c ƒë·ªô chi ti·∫øt:",
                    languageStyleLabel: "Phong c√°ch ng√¥n ng·ªØ:",
                    outputFormatLabel: "ƒê·ªãnh d·∫°ng k·∫øt qu·∫£:",
                    resultsTitle: "K·∫øt qu·∫£ Ph√¢n t√≠ch",
                    visualizationTitle: "Tr·ª±c quan h√≥a",
                    shareTitle: "Chia s·∫ª",
                    recentAnalysesTitle: "Ph√¢n t√≠ch g·∫ßn ƒë√¢y",
                    placeholderPrompt:
                        "M√¥ t·∫£ chi ti·∫øt v·ªÅ h√¨nh ·∫£nh ho·∫∑c ƒë·∫∑t c√¢u h·ªèi c·ª• th·ªÉ...",
                    generalAnalysis: "Ph√¢n t√≠ch t·ªïng qu√°t",
                    objectDetection: "Nh·∫≠n di·ªán ƒë·ªëi t∆∞·ª£ng",
                    textDetection: "Nh·∫≠n di·ªán vƒÉn b·∫£n",
                    faceDetection: "Nh·∫≠n di·ªán khu√¥n m·∫∑t",
                    colorAnalysis: "Ph√¢n t√≠ch m√†u s·∫Øc",
                    compositionAnalysis: "Ph√¢n t√≠ch b·ªë c·ª•c",
                    emotionAnalysis: "Ph√¢n t√≠ch c·∫£m x√∫c",
                    styleAnalysis: "Ph√¢n t√≠ch phong c√°ch ngh·ªá thu·∫≠t",
                    contextAnalysis: "Ph√¢n t√≠ch ng·ªØ c·∫£nh",
                    symbolismAnalysis: "Ph√¢n t√≠ch bi·ªÉu t∆∞·ª£ng",
                    academicStyle: "H·ªçc thu·∫≠t",
                    conversationalStyle: "ƒê√†m tho·∫°i",
                    technicalStyle: "K·ªπ thu·∫≠t",
                    creativeStyle: "S√°ng t·∫°o",
                    paragraphFormat: "ƒêo·∫°n vƒÉn",
                    bulletFormat: "Danh s√°ch g·∫°ch ƒë·∫ßu d√≤ng",
                    tableFormat: "B·∫£ng",
                    jsonFormat: "JSON",
                    shareButton: "Chia s·∫ª k·∫øt qu·∫£",
                    noImageAlert:
                        "Vui l√≤ng t·∫£i l√™n h√¨nh ·∫£nh ho·∫∑c cung c·∫•p URL h√¨nh ·∫£nh tr∆∞·ªõc khi ph√¢n t√≠ch.",
                    networkError: "L·ªói k·∫øt n·ªëi m·∫°ng",
                    objectChartLabel: "S·ªë l∆∞·ª£ng ƒë·ªëi t∆∞·ª£ng",
                    emotionChartLabel: "C∆∞·ªùng ƒë·ªô c·∫£m x√∫c",
                    faceAnalysisTitle: "Ph√¢n t√≠ch khu√¥n m·∫∑t",
                    compositionAnalysisTitle: "Ph√¢n t√≠ch b·ªë c·ª•c",
                    noShareSupport:
                        "Tr√¨nh duy·ªát c·ªßa b·∫°n kh√¥ng h·ªó tr·ª£ t√≠nh nƒÉng chia s·∫ª."
                },
                en: {
                    mainTitle: "AI-Powered Deep Image Analysis",
                    mainSubtitle: "Uncover hidden details in every image",
                    uploadLabel: "Upload Image:",
                    urlLabel: "Or enter image URL:",
                    modelLabel: "Select Model:",
                    promptLabel: "Enter image description prompt:",
                    analyzeButton: "Analyze Image",
                    advancedOptions: "Advanced Options",
                    analysisTypeLabel: "Analysis Type:",
                    detailLevelLabel: "Detail Level:",
                    languageStyleLabel: "Language Style:",
                    outputFormatLabel: "Output Format:",
                    resultsTitle: "Analysis Results",
                    visualizationTitle: "Visualizations",
                    shareTitle: "Share",
                    recentAnalysesTitle: "Recent Analyses",
                    placeholderPrompt:
                        "Describe the image in detail or ask specific questions...",
                    generalAnalysis: "General Analysis",
                    objectDetection: "Object Detection",
                    textDetection: "Text Detection",
                    faceDetection: "Face Detection",
                    colorAnalysis: "Color Analysis",
                    compositionAnalysis: "Composition Analysis",
                    emotionAnalysis: "Emotion Analysis",
                    styleAnalysis: "Style Analysis",
                    contextAnalysis: "Context Analysis",
                    symbolismAnalysis: "Symbolism Analysis",
                    academicStyle: "Academic",
                    conversationalStyle: "Conversational",
                    technicalStyle: "Technical",
                    creativeStyle: "Creative",
                    paragraphFormat: "Paragraph",
                    bulletFormat: "Bulleted List",
                    tableFormat: "Table",
                    jsonFormat: "JSON",
                    shareButton: "Share Results",
                    noImageAlert:
                        "Please upload an image or provide an image URL before analyzing.",
                    networkError: "Network error",
                    objectChartLabel: "Number of objects",
                    emotionChartLabel: "Emotion intensity",
                    faceAnalysisTitle: "Face Analysis",
                    compositionAnalysisTitle: "Composition Analysis",
                    noShareSupport: "Your browser does not support the share feature."
                }
            };

            // Update main title and subtitle
            document.getElementById("mainTitle").textContent =
                translations[lang].mainTitle;
            document.getElementById("mainSubtitle").textContent =
                translations[lang].mainSubtitle;

            // Update labels and button texts
            updateLabelsAndButtons(lang, translations);

            // Update select options
            updateSelectOptions("analysisType", analysisTypeOptions[lang]);
            updateSelectOptions("languageStyle", languageStyleOptions[lang]);
            updateSelectOptions("outputFormat", outputFormatOptions[lang]);

            // Update HTML lang attribute
            document.documentElement.lang = lang;

            // Update prompt language
            updatePromptLanguage(lang, translations);
        }

        window.onload = function () {
            changeLanguage();
        };
    </script>
    <script>
        window.va =
            window.va ||
            function () {
                (window.vaq = window.vaq || []).push(arguments);
            };
    </script>
    <script defer src="/_vercel/insights/script.js"></script>
</body>

</html>